# X11 Forwarding Workflow

## Problem Statement

Render the pygame development window on a remote workstation when the Raspberry Pi lacks a dedicated display.

## Materials

- Raspberry Pi running Raspberry Pi OS with network access.
- Workstation (macOS in this example) with SSH connectivity.
- XQuartz and optional TigerVNC viewer installed on the workstation.

## Technical Approach

1. Configure the Raspberry Pi to expose an X11-capable VNC server.
1. Prepare the workstation to accept forwarded GL contexts via XQuartz.
1. Connect over SSH with X forwarding and run `totem` to confirm remote rendering.

## Raspberry Pi Configuration

1. Run `sudo raspi-config`, navigate to **Advanced Options â†’ Wayland/X11**, and select **X11**.
1. Disable WayVNC: `sudo systemctl disable --now wayvnc`.
1. Enable the X11 VNC service: `sudo systemctl enable --now vncserver-x11-serviced`.

## macOS Configuration

### XQuartz for CLI Forwarding

1. Install XQuartz and restart the workstation.
1. Enable indirect GLX support:
   ```bash
   defaults write org.xquartz.X11 enable_iglx -bool true
   ```
1. Restart XQuartz.
1. Connect with `ssh -Y <user>@totem.local`.
1. Run `totem run --configuration <name>` and verify that the pygame window renders locally.

### TigerVNC Viewer (Optional)

Install the [TigerVNC viewer](https://sourceforge.net/projects/tigervnc/files/stable/1.15.0/) if you prefer a dedicated VNC session to the Pi instead of relying solely on forwarded windows.
